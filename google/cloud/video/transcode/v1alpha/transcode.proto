// Copyright 2017 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";

package google.cloud.video.transcode.v1alpha;

import "google/api/annotations.proto";
import "google/cloud/video/transcode/v1alpha/branding_profile.proto";
import "google/cloud/video/transcode/v1alpha/drm_profile.proto";
import "google/cloud/video/transcode/v1alpha/encode_profile.proto";
import "google/cloud/video/transcode/v1alpha/job.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/field_mask.proto";

option go_package = "google.golang.org/genproto/googleapis/cloud/video/transcode/v1alpha;transcode";
option java_multiple_files = true;
option java_package = "com.google.cloud.video.transcode.v1alpha";


// Cloud Video Transcode API
//
// The Cloud Video Transcode API can be used to transcode videos into specified
// codec, bitrate, and formats. It supports adding branding content
// such as preroll, postroll, and overlay to output videos. It supports Drm
// protection of output videos.
service Transcode {
  // Creates an encode profile and returns the new encode profile.
  rpc CreateEncodeProfile(CreateEncodeProfileRequest) returns (EncodeProfile) {
    option (google.api.http) = { post: "/v1alpha/{parent=projects/*}/encodeProfiles" body: "encode_profile" };
  }

  // Updates an encode profile and returns the new encode profile.
  // Returns NOT_FOUND if the encode profile to be updated does not exist.
  rpc UpdateEncodeProfile(UpdateEncodeProfileRequest) returns (EncodeProfile) {
    option (google.api.http) = { put: "/v1alpha/{encode_profile.name=projects/*/encodeProfiles/*}" body: "encode_profile" };
  }

  // Gets an encode profile.
  // Returns NOT_FOUND if the encode profile does not exist.
  rpc GetEncodeProfile(GetEncodeProfileRequest) returns (EncodeProfile) {
    option (google.api.http) = { get: "/v1alpha/{name=projects/*/encodeProfiles/*}" };
  }

  // Lists encode profiles. Ordered by encode profile create time descending.
  rpc ListEncodeProfiles(ListEncodeProfilesRequest) returns (ListEncodeProfilesResponse) {
    option (google.api.http) = { get: "/v1alpha/{parent=projects/*}/encodeProfiles" };
  }

  // Deletes an encode profile.
  // Returns NOT_FOUND if the encode profile does not exist.
  rpc DeleteEncodeProfile(DeleteEncodeProfileRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = { delete: "/v1alpha/{name=projects/*/encodeProfiles/*}" };
  }

  // Creates a branding profile and returns the new branding profile.
  rpc CreateBrandingProfile(CreateBrandingProfileRequest) returns (BrandingProfile) {
    option (google.api.http) = { post: "/v1alpha/{parent=projects/*}/brandingProfiles" body: "branding_profile" };
  }

  // Updates a branding profile and returns the new branding profile.
  // Returns NOT_FOUND if the branding profile to be updated does not exist.
  rpc UpdateBrandingProfile(UpdateBrandingProfileRequest) returns (BrandingProfile) {
    option (google.api.http) = { put: "/v1alpha/{branding_profile.name=projects/*/brandingProfiles/*}" body: "branding_profile" };
  }

  // Gets a branding profile.
  // Returns NOT_FOUND if the branding profile does not exist.
  rpc GetBrandingProfile(GetBrandingProfileRequest) returns (BrandingProfile) {
    option (google.api.http) = { get: "/v1alpha/{name=projects/*/brandingProfiles/*}" };
  }

  // Lists branding profiles. Ordered by branding profile create time
  // descending.
  rpc ListBrandingProfiles(ListBrandingProfilesRequest) returns (ListBrandingProfilesResponse) {
    option (google.api.http) = { get: "/v1alpha/{parent=projects/*}/brandingProfiles" };
  }

  // Deletes a branding profile.
  // Returns NOT_FOUND if the branding profile does not exist.
  rpc DeleteBrandingProfile(DeleteBrandingProfileRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = { delete: "/v1alpha/{name=projects/*/brandingProfiles/*}" };
  }

  // Creates a Drm profile and returns the new Drm profile.
  rpc CreateDrmProfile(CreateDrmProfileRequest) returns (DrmProfile) {
    option (google.api.http) = { post: "/v1alpha/{parent=projects/*}/drmProfiles" body: "drm_profile" };
  }

  // Updates a Drm profile and returns the new Drm profile.
  // Returns NOT_FOUND if the Drm profile to be updated does not exist.
  rpc UpdateDrmProfile(UpdateDrmProfileRequest) returns (DrmProfile) {
    option (google.api.http) = { put: "/v1alpha/{drm_profile.name=projects/*/drmProfiles/*}" body: "drm_profile" };
  }

  // Gets a Drm profile.
  // Returns NOT_FOUND if the Drm profile does not exist.
  rpc GetDrmProfile(GetDrmProfileRequest) returns (DrmProfile) {
    option (google.api.http) = { get: "/v1alpha/{name=projects/*/drmProfiles/*}" };
  }

  // Lists Drm profiles. Ordered by Drm profile create time descending.
  rpc ListDrmProfiles(ListDrmProfilesRequest) returns (ListDrmProfilesResponse) {
    option (google.api.http) = { get: "/v1alpha/{parent=projects/*}/drmProfiles" };
  }

  // Deletes a Drm profile.
  // Returns NOT_FOUND if the Drm profile does not exist.
  rpc DeleteDrmProfile(DeleteDrmProfileRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = { delete: "/v1alpha/{name=projects/*/drmProfiles/*}" };
  }

  // Creates a transcode job and returns the new job created.
  rpc CreateJob(CreateJobRequest) returns (Job) {
    option (google.api.http) = { post: "/v1alpha/{parent=projects/*}/jobs" body: "job" };
  }

  // Gets a transcode job. Returns NOT_FOUND if the job does not exist.
  rpc GetJob(GetJobRequest) returns (Job) {
    option (google.api.http) = { get: "/v1alpha/{name=projects/*/jobs/*}" };
  }

  // Lists transcode jobs. Ordered by transcode job create time descending.
  rpc ListJobs(ListJobsRequest) returns (ListJobsResponse) {
    option (google.api.http) = { get: "/v1alpha/{parent=projects/*}/jobs" };
  }

  // Cancels a transcode job. Returns NOT_FOUND if the job does not exist.
  rpc CancelJob(CancelJobRequest) returns (Job) {
    option (google.api.http) = { post: "/v1alpha/{name=projects/*/jobs/*}:cancel" body: "*" };
  }
}

// Request message for Transcoding.CreateEncodeProfile.
message CreateEncodeProfileRequest {
  // The project name where the encode profile will be created.
  // For example: "projects/projectNum1"
  string parent = 1;

  // The encode profile to create.
  EncodeProfile encode_profile = 2;
}

// Request message for Transcoding.UpdateEncodeProfile.
message UpdateEncodeProfileRequest {
  // The encode profile which replaces existing one in system.
  EncodeProfile encode_profile = 1;

  // The mask used when doing partial update.
  google.protobuf.FieldMask update_mask = 2;
}

// Request message for Transcoding.GetEncodeProfile.
message GetEncodeProfileRequest {
  // The name of the encode profile to retrieve.
  // In form of `projects/{project_number}/encodeProfiles/{encode_profile_id}`.
  string name = 1;
}

// Request message for Transcoding.ListEncodeProfiles.
message ListEncodeProfilesRequest {
  // The project name whose encode profiles we'd like to list
  // For example: "projects/projectNum1"
  string parent = 1;

  // Requested page size. Server may return fewer encode profiles than
  // requested. Default to 20 if not specified or specify a value 0.
  int32 page_size = 2;

  // A token identifying a page of results the server should return.
  // Typically, this is the value of
  // [Transcoding.next_page_token][google.cloud.video.transcode.v1alpha.ListEncodeProfilesResponse.next_page_token]
  // returned from the previous call to `ListEncodeProfiles` method.
  string page_token = 3;
}

// Response message for transcode.ListEncodeProfiles.
message ListEncodeProfilesResponse {
  // The list of encode profiles.
  repeated EncodeProfile encode_profiles = 1;

  // A token to retrieve next page of results.
  // Pass this value in the
  // [ListEncodeProfiles.page_token][google.cloud.video.transcode.v1alpha.ListEncodeProfilesRequest.page_token]
  // field in the subsequent call to `ListEncodeProfiles` method to retrieve the
  // next page of results.
  string next_page_token = 2;
}

// Request message for Transcoding.DeleteEncodeProfile.
message DeleteEncodeProfileRequest {
  // The name of the encode profile to delete.
  // In form of `projects/{project_number}/encodeProfiles/{encode_profile_id}`.
  string name = 1;
}

// Request message for Transcoding.CreateBrandingProfile.
message CreateBrandingProfileRequest {
  // The project name where the branding profile will be created.
  // For example: "projects/projectID1".
  string parent = 1;

  // The branding profile to create.
  BrandingProfile branding_profile = 2;
}

// Request message for Transcoding.UpdateBrandingProfile.
message UpdateBrandingProfileRequest {
  // The branding profile which replaces the existing one in the system.
  BrandingProfile branding_profile = 1;

  // The mask used when doing partial update.
  google.protobuf.FieldMask update_mask = 2;
}

// Request message for Transcoding.GetBrandingProfile.
message GetBrandingProfileRequest {
  // The name of the branding profile to retrieve.
  // In form of
  // `projects/{project_number}/brandingProfiles/{branding_profile_id}`.
  string name = 1;
}

// Request message for Transcoding.ListBrandingProfiles.
message ListBrandingProfilesRequest {
  // The project name whose branding profiles we'd like to list
  // For example: "projects/projectID1".
  string parent = 1;

  // Requested page size. Server may return fewer branding profiles than
  // requested. Default to 20 if not specified or specify a value 0.
  int32 page_size = 2;

  // A token identifying a page of results the server should return.
  // Typically, this is the value of
  // [Transcoding.next_page_token][google.cloud.video.transcode.v1alpha.ListBrandingProfilesResponse.next_page_token]
  // returned from the previous call to `ListBrandingProfiles` method.
  string page_token = 3;
}

// Response message for transcode.ListBrandingProfiles.
message ListBrandingProfilesResponse {
  // The list of branding profiles.
  repeated BrandingProfile branding_profiles = 1;

  // A token to retrieve next page of results.
  // Pass this value in the
  // [ListBrandingProfiles.page_token][google.cloud.video.transcode.v1alpha.ListBrandingProfilesRequest.page_token]
  // field in the subsequent call to `ListBrandingProfiles` method to retrieve
  // the next page of results.
  string next_page_token = 2;
}

// Request message for Transcoding.DeleteBrandingProfile.
message DeleteBrandingProfileRequest {
  // The name of the branding profile to delete.
  // In form of
  // `projects/{project_number}/brandingProfiles/{branding_profile_id}`.
  string name = 1;
}

// Request message for Transcoding.CreateDrmProfile.
message CreateDrmProfileRequest {
  // The project name where the Drm profile will be created.
  // For example: "projects/projectNum1".
  string parent = 1;

  // The drm profile to create.
  DrmProfile drm_profile = 2;
}

// Request message for Transcoding.UpdateDrmProfile.
message UpdateDrmProfileRequest {
  // The drm profile to replace the existing one in the system.
  DrmProfile drm_profile = 1;

  // The mask used when doing partial update.
  google.protobuf.FieldMask update_mask = 2;
}

// Request message for Transcoding.GetDrmProfile.
message GetDrmProfileRequest {
  // The name of the drm profile to retrieve.
  // In form of `projects/{project_number}/drmProfiles/{drm_profile_id}`.
  string name = 1;
}

// Request message for Transcoding.ListDrmProfiles.
message ListDrmProfilesRequest {
  // The project name whose Drm profiles we'd like to list
  // For example: "projects/projectNum1".
  string parent = 1;

  // Requested page size. Server may return fewer drm profiles than
  // requested. Default to 20 if not specified or specify a value 0.
  int32 page_size = 2;

  // A token identifying a page of results the server should return.
  // Typically, this is the value of
  // [Transcoding.next_page_token][google.cloud.video.transcode.v1alpha.ListDrmProfilesResponse.next_page_token]
  // returned from the previous call to `ListDrmProfiles` method.
  string page_token = 3;
}

// Response message for transcode.ListDrmProfiles.
message ListDrmProfilesResponse {
  // The list of drm profiles.
  repeated DrmProfile drm_profiles = 1;

  // A token to retrieve next page of results.
  // Pass this value in the
  // [ListDrmProfiles.page_token][google.cloud.video.transcode.v1alpha.ListDrmProfilesRequest.page_token]
  // field in the subsequent call to `ListDrmProfiles` method to retrieve
  // the next page of results.
  string next_page_token = 2;
}

// Request message for Transcoding.DeleteDrmProfile.
message DeleteDrmProfileRequest {
  // The name of the drm profile to delete.
  // In form of `projects/{project_number}/drmProfiles/{drm_profile_id}`.
  string name = 1;
}

// Request message for Transcoding.CreateJob.
message CreateJobRequest {
  // The project name where the transcode job will be created.
  // For example: "projects/projectNum1".
  string parent = 1;

  // The transcode job to create.
  Job job = 2;
}

// Request message for Transcoding.GetJob.
message GetJobRequest {
  // The name of the transcode job to retrieve.
  // In form of `projects/{project_number}/jobs/{job_id}`.
  string name = 1;
}

message CancelJobRequest {
  // The name of the transcode job to cancel.
  // In form of `projects/{project_number}/jobs/{job_id}`.
  string name = 1;
}

// Request message for Transcoding.ListJobs.
message ListJobsRequest {
  // The project name whose jobs we'd like to list
  // For example: "projects/projectID1"
  string parent = 1;

  // Requested page size. Server may return fewer jobs than
  // requested. Default to 20 if not specified or specify a value 0.
  int32 page_size = 2;

  // A token identifying a page of results the server should return.
  // Typically, this is the value of
  // [Transcoding.next_page_token][google.cloud.video.transcode.v1alpha.ListJobsResponse.next_page_token]
  // returned from the previous call to `ListJobs` method.
  string page_token = 3;
}

message ListJobsResponse {
  repeated Job jobs = 1;

  // A token to retrieve next page of results.
  // Pass this value in the
  // [ListJobsRequest.page_token][google.cloud.video.transcode.v1alpha.ListJobsRequest.page_token]
  // field in the subsequent call to `ListJobs` method to retrieve
  // the next page of results.
  string next_page_token = 2;
}
